<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>spocc introduction • spocc</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="spocc introduction">
<meta property="og:description" content="spocc">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">spocc</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.2.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/spocc.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/fixnames.html">cleaning names</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ropensci/spocc/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>spocc introduction</h1>
                        <h4 data-toc-skip class="author">Scott
Chamberlain</h4>
            
            <h4 data-toc-skip class="date">2022-11-10</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/ropensci/spocc/blob/HEAD/vignettes/spocc.Rmd" class="external-link"><code>vignettes/spocc.Rmd</code></a></small>
      <div class="hidden name"><code>spocc.Rmd</code></div>

    </div>

    
    
<p>The rOpenSci projects aims to provide programmatic access to
scientific data repositories on the web. A vast majority of the packages
in our current suite retrieve some form of biodiversity or taxonomic
data. Since several of these datasets have been georeferenced, it
provides numerous opportunities for visualizing species distributions,
building species distribution maps, and for using it analyses such as
species distribution models. In an effort to streamline access to these
data, we have developed a package called <code>spocc</code>, which
provides a unified API to all the biodiversity sources that we provide.
The obvious advantage is that a user can interact with a common API and
not worry about the nuances in syntax that differ between packages. As
more data sources come online, users can access even more data without
significant changes to their code. However, it is important to note that
spocc will never replicate the full functionality that exists within
specific packages. Therefore users with a strong interest in one of the
specific data sources listed below would benefit from familiarising
themselves with the inner working of the appropriate packages.</p>
<div class="section level2">
<h2 id="data-sources">Data Sources<a class="anchor" aria-label="anchor" href="#data-sources"></a>
</h2>
<p><code>spocc</code> currently interfaces with seven major biodiversity
repositories</p>
<ol style="list-style-type: decimal">
<li><p><a href="http://gbif.org/" class="external-link">Global Biodiversity Information
Facility (GBIF)</a> (via <code>rgbif</code>) GBIF is a government funded
open data repository with several partner organizations with the express
goal of providing access to data on Earth’s biodiversity. The data are
made available by a network of member nodes, coordinating information
from various participant organizations and government agencies.</p></li>
<li><p><a href="http://inaturalist.org/" class="external-link">iNaturalist</a> iNaturalist
provides access to crowd sourced citizen science data on species
observations.</p></li>
<li><p><a href="http://vertnet.org/" class="external-link">VertNet</a> (via
<code>rvertnet</code>) Similar to <code>rgbif</code> (see below),
VertNet provides access to more than 80 million vertebrate records
spanning a large number of institutions and museums primarly covering
four major disciplines (mammology, herpetology, ornithology, and
icthyology).</p></li>
<li><p><a href="http://ebird.org/home" class="external-link">eBird</a> (via
<code>rebird</code>) ebird is a database developed and maintained by the
Cornell Lab of Ornithology and the National Audubon Society. It provides
real-time access to checklist data, data on bird abundance and
distribution, and communtiy reports from birders.</p></li>
<li><p><a href="http://idigbio.org/" class="external-link">iDigBio</a> (via
<code>ridigbio</code>) iDigBio facilitates the digitization of
biological and paleobiological specimens and their associated data, and
houses specimen data, as well as providing their specimen data via
RESTful web services.</p></li>
<li><p><a href="http://obis.org/" class="external-link">OBIS</a> OBIS (Ocean Biogeographic
Information System) allows users to search marine species datasets from
all of the world’s oceans.</p></li>
<li><p><a href="http://ala.org.au/" class="external-link">Atlas of Living Australia</a> ALA
(Atlas of Living Australia) contains information on all the known
species in Australia aggregated from a wide range of data providers:
museums, herbaria, community groups, government departments, individuals
and universities; it contains more than 50 million occurrence
records.</p></li>
</ol>
<p><strong>Important Note:</strong> It’s important to keep in mind that
several data providers interface with many of the above mentioned
repositories. This means that occurence data obtained from OBIS may be
duplicates of data that are also available through GBIF. We do not have
a way to resolve these duplicates or overlaps at this time but it is an
issue we are hoping to resolve in future versions of the package. See
<code><a href="../reference/spocc_duplicates.html">?spocc_duplicates</a></code>, after installation, for more.</p>
</div>
<div class="section level2">
<h2 id="data-retrieval">Data retrieval<a class="anchor" aria-label="anchor" href="#data-retrieval"></a>
</h2>
<p>The most significant function in spocc is the <code>occ</code> (short
for occurrence) function. <code>occ</code> takes a query, often a
species name, and searches across all data sources specified in the
<code>from</code> argument. For example, one can search for all
occurrences of <a href="http://allaboutbirds.org/guide/sharp-shinned_hawk/id" class="external-link">Sharp-shinned
Hawks</a> (<em>Accipiter striatus</em>) from the GBIF database with the
following R call.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://docs.ropensci.org/spocc" class="external-link">'spocc'</a></span><span class="op">)</span></span>
<span><span class="op">(</span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/occ.html">occ</a></span><span class="op">(</span>query <span class="op">=</span> <span class="st">'Accipiter striatus'</span>, from <span class="op">=</span> <span class="st">'gbif'</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Searched: gbif</span></span>
<span><span class="co">#&gt; Occurrences - Found: 1,407,843, Returned: 500</span></span>
<span><span class="co">#&gt; Search type: Scientific</span></span>
<span><span class="co">#&gt;   gbif: Accipiter striatus (500)</span></span></code></pre></div>
<p>The data returned are part of a <code>S3</code> class called
<code>occdat</code>. This class has slots for each of the data sources
described above. One can easily switch the source by changing the
<code>from</code> parameter in the function call above.</p>
<p>Within each data source is the set of species queried. In the above
example, we only asked for occurrence data for one species, but we could
have asked for any number. Let’s say we asked for data for two species:
<em>Accipiter striatus</em>, and <em>Pinus contorta</em>. Then the
structure of the response would be</p>
<pre><code>response -- |
            | -- gbif ------- |
                              | -- Accipiter_striatus
                              | -- Pinus_contorta

            | -- idigbio ------ |
                                | -- Accipiter_striatus
                                | -- Pinus_contorta

            ... and so on for each data source
</code></pre>
<p>If you only request data from gbif, like <code>from = 'gbif'</code>,
then the other four source slots are present in the response object, but
have no data.</p>
<p>You can quickly get just the GBIF data by indexing to it, like</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span><span class="op">$</span><span class="va">gbif</span></span>
<span><span class="co">#&gt; Species [Accipiter striatus (500)] </span></span>
<span><span class="co">#&gt; First 10 rows of [Accipiter_striatus]</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; # A tibble: 500 × 78</span></span>
<span><span class="co">#&gt;    name       longi…¹ latit…² prov  issues key   scien…³ datas…⁴ publi…⁵ insta…⁶</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;        &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;  </span></span>
<span><span class="co">#&gt;  1 Accipiter…   -96.6    33.1 gbif  cdrou… 3455… Accipi… 50c950… 28eb1a… 997448…</span></span>
<span><span class="co">#&gt;  2 Accipiter…   -82.0    40.3 gbif  cdrou… 3455… Accipi… 50c950… 28eb1a… 997448…</span></span>
<span><span class="co">#&gt;  3 Accipiter…  -120.     39.5 gbif  cdrou… 3455… Accipi… 50c950… 28eb1a… 997448…</span></span>
<span><span class="co">#&gt;  4 Accipiter…  -105.     28.3 gbif  cdrou… 3455… Accipi… 50c950… 28eb1a… 997448…</span></span>
<span><span class="co">#&gt;  5 Accipiter…   -74.5    40.8 gbif  cdrou… 3455… Accipi… 50c950… 28eb1a… 997448…</span></span>
<span><span class="co">#&gt;  6 Accipiter…  -123.     49.1 gbif  cdrou… 3455… Accipi… 50c950… 28eb1a… 997448…</span></span>
<span><span class="co">#&gt;  7 Accipiter…   -77.6    39.0 gbif  cdrou… 3455… Accipi… 50c950… 28eb1a… 997448…</span></span>
<span><span class="co">#&gt;  8 Accipiter…  -122.     38.0 gbif  cdrou… 3455… Accipi… 50c950… 28eb1a… 997448…</span></span>
<span><span class="co">#&gt;  9 Accipiter…  -122.     37.8 gbif  cdrou… 3455… Accipi… 50c950… 28eb1a… 997448…</span></span>
<span><span class="co">#&gt; 10 Accipiter…  -121.     36.5 gbif  cdrou… 3455… Accipi… 50c950… 28eb1a… 997448…</span></span>
<span><span class="co">#&gt; # … with 490 more rows, 68 more variables: publishingCountry &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   protocol &lt;chr&gt;, lastCrawled &lt;chr&gt;, lastParsed &lt;chr&gt;, crawlId &lt;int&gt;,</span></span>
<span><span class="co">#&gt; #   hostingOrganizationKey &lt;chr&gt;, basisOfRecord &lt;chr&gt;, occurrenceStatus &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   taxonKey &lt;int&gt;, kingdomKey &lt;int&gt;, phylumKey &lt;int&gt;, classKey &lt;int&gt;,</span></span>
<span><span class="co">#&gt; #   orderKey &lt;int&gt;, familyKey &lt;int&gt;, genusKey &lt;int&gt;, speciesKey &lt;int&gt;,</span></span>
<span><span class="co">#&gt; #   acceptedTaxonKey &lt;int&gt;, acceptedScientificName &lt;chr&gt;, kingdom &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   phylum &lt;chr&gt;, order &lt;chr&gt;, family &lt;chr&gt;, genus &lt;chr&gt;, species &lt;chr&gt;, …</span></span></code></pre></div>
<p>When you get data from multiple providers, the fields returned are
slightly different because each data provider uses different formats for
their data; different arrangements of data and different variable names
for the same thing (e.g., one data provider may call latitude
“latitude”, while another may call it “lat”). For example:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/occ.html">occ</a></span><span class="op">(</span>query <span class="op">=</span> <span class="st">'Accipiter striatus'</span>, from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'gbif'</span>, <span class="st">'idigbio'</span><span class="op">)</span>, limit <span class="op">=</span> <span class="fl">25</span><span class="op">)</span></span>
<span><span class="va">df</span><span class="op">$</span><span class="va">gbif</span><span class="op">$</span><span class="va">data</span><span class="op">$</span><span class="va">Accipiter_striatus</span></span>
<span><span class="co">#&gt; # A tibble: 25 × 75</span></span>
<span><span class="co">#&gt;    name       longi…¹ latit…² issues prov  key   scien…³ datas…⁴ publi…⁵ insta…⁶</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;        &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;  </span></span>
<span><span class="co">#&gt;  1 Accipiter…   -96.6    33.1 cdrou… gbif  3455… Accipi… 50c950… 28eb1a… 997448…</span></span>
<span><span class="co">#&gt;  2 Accipiter…   -82.0    40.3 cdrou… gbif  3455… Accipi… 50c950… 28eb1a… 997448…</span></span>
<span><span class="co">#&gt;  3 Accipiter…  -120.     39.5 cdrou… gbif  3455… Accipi… 50c950… 28eb1a… 997448…</span></span>
<span><span class="co">#&gt;  4 Accipiter…  -105.     28.3 cdrou… gbif  3455… Accipi… 50c950… 28eb1a… 997448…</span></span>
<span><span class="co">#&gt;  5 Accipiter…   -74.5    40.8 cdrou… gbif  3455… Accipi… 50c950… 28eb1a… 997448…</span></span>
<span><span class="co">#&gt;  6 Accipiter…  -123.     49.1 cdrou… gbif  3455… Accipi… 50c950… 28eb1a… 997448…</span></span>
<span><span class="co">#&gt;  7 Accipiter…   -77.6    39.0 cdrou… gbif  3455… Accipi… 50c950… 28eb1a… 997448…</span></span>
<span><span class="co">#&gt;  8 Accipiter…  -122.     38.0 cdrou… gbif  3455… Accipi… 50c950… 28eb1a… 997448…</span></span>
<span><span class="co">#&gt;  9 Accipiter…  -122.     37.8 cdrou… gbif  3455… Accipi… 50c950… 28eb1a… 997448…</span></span>
<span><span class="co">#&gt; 10 Accipiter…  -121.     36.5 cdrou… gbif  3455… Accipi… 50c950… 28eb1a… 997448…</span></span>
<span><span class="co">#&gt; # … with 15 more rows, 65 more variables: publishingCountry &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   protocol &lt;chr&gt;, lastCrawled &lt;chr&gt;, lastParsed &lt;chr&gt;, crawlId &lt;int&gt;,</span></span>
<span><span class="co">#&gt; #   hostingOrganizationKey &lt;chr&gt;, basisOfRecord &lt;chr&gt;, occurrenceStatus &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   taxonKey &lt;int&gt;, kingdomKey &lt;int&gt;, phylumKey &lt;int&gt;, classKey &lt;int&gt;,</span></span>
<span><span class="co">#&gt; #   orderKey &lt;int&gt;, familyKey &lt;int&gt;, genusKey &lt;int&gt;, speciesKey &lt;int&gt;,</span></span>
<span><span class="co">#&gt; #   acceptedTaxonKey &lt;int&gt;, acceptedScientificName &lt;chr&gt;, kingdom &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   phylum &lt;chr&gt;, order &lt;chr&gt;, family &lt;chr&gt;, genus &lt;chr&gt;, species &lt;chr&gt;, …</span></span>
<span><span class="va">df</span><span class="op">$</span><span class="va">idigbio</span><span class="op">$</span><span class="va">data</span><span class="op">$</span><span class="va">Accipiter_striatus</span></span>
<span><span class="co">#&gt; # A tibble: 25 × 83</span></span>
<span><span class="co">#&gt;    associa…¹ barco…² basis…³ bed   canon…⁴ catal…⁵ class colle…⁶ colle…⁷ colle…⁸</span></span>
<span><span class="co">#&gt;    &lt;lgl&gt;     &lt;lgl&gt;   &lt;chr&gt;   &lt;lgl&gt; &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt;   &lt;lgl&gt;  </span></span>
<span><span class="co">#&gt;  1 NA        NA      preser… NA    accipi… 76668   aves  bird    http:/… NA     </span></span>
<span><span class="co">#&gt;  2 NA        NA      preser… NA    accipi… usnm 4… aves  birds   urn:uu… NA     </span></span>
<span><span class="co">#&gt;  3 NA        NA      preser… NA    accipi… 21409.0 aves  birds   &lt;NA&gt;    NA     </span></span>
<span><span class="co">#&gt;  4 NA        NA      preser… NA    accipi… bird-1… aves  bird    &lt;NA&gt;    NA     </span></span>
<span><span class="co">#&gt;  5 NA        NA      preser… NA    accipi… 3726    aves  av      &lt;NA&gt;    NA     </span></span>
<span><span class="co">#&gt;  6 NA        NA      preser… NA    accipi… 2003-0… aves  birds   &lt;NA&gt;    NA     </span></span>
<span><span class="co">#&gt;  7 NA        NA      preser… NA    accipi… 39542   aves  birds   &lt;NA&gt;    NA     </span></span>
<span><span class="co">#&gt;  8 NA        NA      preser… NA    accipi… bird-2… aves  bird    &lt;NA&gt;    NA     </span></span>
<span><span class="co">#&gt;  9 NA        NA      preser… NA    accipi… cmnav … aves  cmnav   http:/… NA     </span></span>
<span><span class="co">#&gt; 10 NA        NA      preser… NA    accipi… 22879   aves  kuo     &lt;NA&gt;    NA     </span></span>
<span><span class="co">#&gt; # … with 15 more rows, 73 more variables: collector &lt;chr&gt;, commonname &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   commonnames &lt;list&gt;, continent &lt;chr&gt;, coordinateuncertainty &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   country &lt;chr&gt;, countrycode &lt;chr&gt;, county &lt;chr&gt;, datasetid &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   datecollected &lt;date&gt;, datemodified &lt;chr&gt;, dqs &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   earliestageorloweststage &lt;lgl&gt;, earliesteonorlowesteonothem &lt;lgl&gt;,</span></span>
<span><span class="co">#&gt; #   earliestepochorlowestseries &lt;lgl&gt;, earliesteraorlowesterathem &lt;lgl&gt;,</span></span>
<span><span class="co">#&gt; #   earliestperiodorlowestsystem &lt;lgl&gt;, etag &lt;chr&gt;, eventdate &lt;chr&gt;, …</span></span></code></pre></div>
<p>We provide a function <code>occ2df</code> that pulls out a few key
columns needed for making maps:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/occ2df.html">occ2df</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 50 × 6</span></span>
<span><span class="co">#&gt;    name                              longitude latitude prov  date       key    </span></span>
<span><span class="co">#&gt;    &lt;chr&gt;                                 &lt;dbl&gt;    &lt;dbl&gt; &lt;chr&gt; &lt;date&gt;     &lt;chr&gt;  </span></span>
<span><span class="co">#&gt;  1 Accipiter striatus Vieillot, 1808     -96.6     33.1 gbif  2022-01-02 345549…</span></span>
<span><span class="co">#&gt;  2 Accipiter striatus Vieillot, 1808     -82.0     40.3 gbif  2022-01-06 345550…</span></span>
<span><span class="co">#&gt;  3 Accipiter striatus Vieillot, 1808    -120.      39.5 gbif  2022-01-13 345558…</span></span>
<span><span class="co">#&gt;  4 Accipiter striatus Vieillot, 1808    -105.      28.3 gbif  2022-01-04 345559…</span></span>
<span><span class="co">#&gt;  5 Accipiter striatus Vieillot, 1808     -74.5     40.8 gbif  2022-01-07 345563…</span></span>
<span><span class="co">#&gt;  6 Accipiter striatus Vieillot, 1808    -123.      49.1 gbif  2022-01-13 345564…</span></span>
<span><span class="co">#&gt;  7 Accipiter striatus Vieillot, 1808     -77.6     39.0 gbif  2022-01-02 345566…</span></span>
<span><span class="co">#&gt;  8 Accipiter striatus Vieillot, 1808    -122.      38.0 gbif  2022-01-09 345566…</span></span>
<span><span class="co">#&gt;  9 Accipiter striatus Vieillot, 1808    -122.      37.8 gbif  2022-01-07 345567…</span></span>
<span><span class="co">#&gt; 10 Accipiter striatus Vieillot, 1808    -121.      36.5 gbif  2022-01-05 345567…</span></span>
<span><span class="co">#&gt; # … with 40 more rows</span></span></code></pre></div>
<p><code><a href="../reference/occ2df.html">occ2df()</a></code> not only combines data into a single
data.frame, but it also standardizes the key columns (name, longitude,
latitude, prov (provider), date, and key (occurrence key)). Note that
you can look up the exact occurrence with the data provider using the
<code>key</code> value.</p>
<div class="section level3">
<h3 id="standardized-parameters">Standardized parameters<a class="anchor" aria-label="anchor" href="#standardized-parameters"></a>
</h3>
<p>Each data source has a variety of different ways, or parameters, to
use to search its data. Some of the parameters are the same across data
sources. In <code><a href="../reference/occ.html">occ()</a></code> we’ve attempted to surface those similar
parameters so you can have a single way to define a parameter and it
gets applied to every data source. This way you don’t have to know the
vagaries of each data source, what formatting they expect, etc.</p>
<p>The standardized parameters in <code><a href="../reference/occ.html">occ()</a></code> are:</p>
<ul>
<li>query: a scientific taxon name</li>
<li>limit: number of records to retrieve</li>
<li>start: page number to start at</li>
<li>page: page number to retrieve</li>
<li>geometry: a “spatial filter” - bounding box, well known text, or an
sp or sf polygon or multipolygon</li>
<li>has_coords: exclude records without latitude/longitude data</li>
<li>date: a date range</li>
</ul>
<p>However, not all parameters across data sources are able to be
standardized, so you can pass data source specific parameters to their
matching parameter name, e.g., pass GBIF parameters to
<code>gbifopts</code> and ALA parameters to <code>alaopts</code>.</p>
</div>
</div>
<div class="section level2">
<h2 id="clean-up-taxonomic-names">Clean up taxonomic names<a class="anchor" aria-label="anchor" href="#clean-up-taxonomic-names"></a>
</h2>
<p>See the vignette <a href="http://docs.ropensci.org/spocc/articles/fixnames" class="external-link">cleaning
names</a></p>
</div>
<div class="section level2">
<h2 id="clean-data">Clean data<a class="anchor" aria-label="anchor" href="#clean-data"></a>
</h2>
<p>All data cleaning functionality is in a new package <a href="http://github.com/ropensci/scrubr" class="external-link">scrubr</a>. <a href="http://cran.r-project.org/package=scrubr" class="external-link">On CRAN</a>.</p>
</div>
<div class="section level2">
<h2 id="make-maps">Make maps<a class="anchor" aria-label="anchor" href="#make-maps"></a>
</h2>
<p>All mapping functionality is now in a separate package <a href="http://github.com/ropensci/mapr" class="external-link">mapr</a> (formerly known as
<code>spoccutils</code>), to make <code>spocc</code> easier to maintain.
<a href="http://cran.r-project.org/package=mapr" class="external-link">On CRAN</a>.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Hannah Owens, Vijay Barve, Scott Chamberlain, <a href="https://ropensci.org" class="external-link"><img src="https://github.com/ropensci.png" height="24"></a>.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
